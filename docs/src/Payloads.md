# Possible Payloads

Each response may one or many signed payloads.

## Login

The signature is generated by signing the UTF-8 bytes of `payload.message` using `Sr25519`.

See [Response Payloads: Login](./Actions/Response.md#login) for more details.

### Example

Example is signed using `f6akufkq9Lex6rT8RCEDRuoZQRgo5pWiRzeo81nmKNGWGNJdJ` which is the SS58 (Prefix 90) public key from the seed phrase `//Bob`.

```json
{
  "signature": {
    "algo": "Sr25519",
    "encoding": "base16",
    "encodedValue": "0x84a4e03344b07d64087ebdf47b2c8c679aa7de78179689988992609f1b83c34f6086c7de99ef41c5325cce64d148624e716c605d355f22d1281f6d23f546f584"
  },
  "type": "login",
  "payload": {
    "message": "localhost wants you to sign in with your Frequency account:\nf6akufkq9Lex6rT8RCEDRuoZQRgo5pWiRzeo81nmKNGWGNJdJ\n\n\n\nURI: https://testnet.frequencyaccess.com/signin/confirm\nNonce: N6rLwqyz34oUxJEXJ\nIssued At: 2024-03-05T23:18:03.041Z\nExpiration Time: 2060-03-05T23:23:03.041Z"
  }
}
```

## Add Provider

This payload follows the [`AddProvider`](https://frequency-chain.github.io/frequency/pallet_msa/types/struct.AddProvider.html) type from Frequency.
It the same payload for two different endpoint extrinsics: `createSponsoredAccountWithDelegation` used for creating a new MSA on chain and `grantDelegation` which is used to grant a new provider permissions on an existing MSA.

The signature is generated by signing the [SCALE encoded payload](https://docs.substrate.io/reference/scale-codec/) using `Sr25519`.

### Example

Example is signed using `f6akufkq9Lex6rT8RCEDRuoZQRgo5pWiRzeo81nmKNGWGNJdJ` which is the SS58 (Prefix 90) public key from the seed phrase `//Bob`.

```json
{
  "signature": {
    "algo": "Sr25519",
    "encoding": "base16",
    "encodedValue": "0x94156d570b29e9c4e3a04eefbff56439f40de7fb6bdba1ca31e9017b55e5e773f747d0ab4f0fc2b44ca903aa8fb641f227fac395e74bb1d837d07cfa70fa1e80"
  },
  "endpoint": {
    "pallet": "msa",
    "extrinsic": "grantDelegation"
  },
  "type": "addProvider",
  "payload": {
    "authorizedMsaId": 1,
    "schemaIds": [
      5,
      7,
      8,
      9,
      10
    ],
    "expiration": 24
  }
}
```

### SCALE Payload Type
```json
{
  authorizedMsaId: 'u64',
  schemaIds: 'Vec<u16>',
  expiration: 'u32',
}
```


## Claim Handle

This payload follows the [`ClaimHandlePayload`](https://frequency-chain.github.io/frequency/common_primitives/handles/struct.ClaimHandlePayload.html) type from Frequency.

The signature is generated by signing the [SCALE encoded payload](https://docs.substrate.io/reference/scale-codec/) using `Sr25519`.

### Example

Example is signed using `f6akufkq9Lex6rT8RCEDRuoZQRgo5pWiRzeo81nmKNGWGNJdJ` which is the SS58 (Prefix 90) public key from the seed phrase `//Bob`.

```json
{
  "signature": {
    "algo": "Sr25519",
    "encoding": "base16",
    "encodedValue": "0xc8c7587ef80b6bd64295d63b69f97196a9a0b635bd8f1974156d7e3c7206134bb9838d29978a2f91c18a6592aff180f2314db7528b6aac796f0073d758406e81"
  },
  "endpoint": {
    "pallet": "handles",
    "extrinsic": "claimHandle"
  },
  "type": "claimHandle",
  "payload": {
    "baseHandle": "ExampleHandle",
    "expiration": 24
  }
}
```

### SCALE Payload Type
```json
{
  baseHandle: 'Bytes',
  expiration: 'u32',
}
```

## User Item Actions

This payload follows the [`ItemizedSignaturePayloadV2`](https://frequency-chain.github.io/frequency/pallet_stateful_storage/types/struct.ItemizedSignaturePayloadV2.html) type from Frequency.

The signature is generated by signing the [SCALE encoded payload](https://docs.substrate.io/reference/scale-codec/) using `Sr25519`.

### Example

Example is signed using `f6akufkq9Lex6rT8RCEDRuoZQRgo5pWiRzeo81nmKNGWGNJdJ` which is the SS58 (Prefix 90) public key from the seed phrase `//Bob`.

```json
{
  "signature": {
    "algo": "Sr25519",
    "encoding": "base16",
    "encodedValue": "0x86bdd46a5f91ed3f259374f5856fdc48ee00b8eced10eecd05af8d7637c51d17df6252f617feacbce1cf91cc57ca036c69773ab9b0c31d6843344704b4fb898d"
  },
  "endpoint": {
    "pallet": "statefulStorage",
    "extrinsic": "applyItemActionsWithSignatureV2"
  },
  "type": "itemActions",
  "payload": {
    "schemaId": 7,
    "targetHash": 0,
    "expiration": 20,
    "actions": [
      {
        "type": "addItem",
        "payloadHex": "0x40eea1e39d2f154584c4b1ca8f228bb49ae5a14786ed63c90025e755f16bd58d37"
      }
    ]
  }
}
```

### SCALE Payload Types
```json
{
  PalletStatefulStorageItemActionEnumAdd: {
    data: 'Bytes',
  },
  PalletStatefulStorageItemActionEnumDelete: {
    index: 'u16',
  },
  PalletStatefulStorageItemAction: {
    _enum: {
      Add: '<PalletStatefulStorageItemActionEnumAdd>',
      Delete: '<PalletStatefulStorageItemActionEnumDelete>',
    },
  },
  PalletStatefulStorageItemizedSignaturePayloadV2: {
    schemaId: 'Compact<u16>',
    targetHash: 'Compact<u32>',
    expiration: 'u32',
    actions: 'Vec<PalletStatefulStorageItemAction>',
  },
}
```
